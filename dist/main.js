$(document).ready(function(){var i=35,d=1,r=50,m=50,u=document.getElementById("prof").getContext("2d");(new Image).src=""+pic;var e=document.getElementById("file");u.fillStyle=""+color,u.fillRect(0,0,600,300),u.fillStyle=""+text,u.rect(15,15,470,270),u.lineWidth=8,u.stroke();document.edit.name.value,document.edit.id.value,document.edit.age.value,document.edit.coment.value;function a(){var e="ユーザー名:\t"+document.edit.name.value+"\nID: \t"+document.edit.id.value+"\n 年齢: \t"+document.edit.age.value+"\nコメント: \t"+document.edit.coment.value;u.clearRect(0,0,500,300),u.beginPath(),u.fillStyle=""+color,u.fillRect(0,0,500,300),u.fillStyle=""+text,u.rect(15,15,470,270),u.lineWidth=8,u.stroke(),u.font="bold "+i+"Noto Sans JP";for(var t=e.split("\n"),n=0,a=t.length;n<a;n++){var l=t[n],o=i;n&&(o+=i*d*n),u.fillText(l,r+0,m+o);var c=new Image;c.src=""+pic,u.drawImage(c,250,50,200,200)}}a(),$("#name, #id, #age, #coment").on("keyup",a),$("#name, #id, #age, #coment").on("change",a),$("#colors").change(function(){color=$(this).val(),$(".button").css({"background-color":""+color}),a()}),$("#idset").click(function(){var e=document.getElementById("idtype").value;$("#idtext").html('<span>ID：</span><input type="text" name="formID" id="id" class="wrap" maxlength="'+e+'"></input>'),a(),$("#idleng").html("<p>現在のid桁数は"+e+"です。</p>")}),e.addEventListener("change",function(e){var t=e.target.files[0];if(t.type.match("image.*")){var n=new FileReader;n.onload=function(){pic=n.result,a()},n.readAsDataURL(t)}else alert("画像を選択してください")},!1),$("#download").click(function(){var e=document.getElementById("prof"),t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download="profsend.png",t.click()})});