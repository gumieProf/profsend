$(document).ready(function(){var l=35,c=1,r=30,m=30,u=document.getElementById("prof").getContext("2d");(new Image).src=""+pic;var e=document.getElementById("file");u.fillStyle=""+color,u.fillRect(0,0,450,300),u.fillStyle=""+text,u.rect(15,15,370,170),u.lineWidth=8,u.stroke();var t=navigator.userAgent;0<t.indexOf("iPhone")||0<t.indexOf("Android")&&0<t.indexOf("Mobile")?$("body").width("360px"):(0<t.indexOf("iPad")||0<t.indexOf("Android"))&&$("body").width("1024px");document.edit.name.value,document.edit.id.value,document.edit.age.value,document.edit.coment.value;function d(){var e="ユーザー名:\t"+document.edit.name.value+"\nID: \t"+document.edit.id.value+"\n 年齢: \t"+document.edit.age.value+"\nコメント: \t"+document.edit.coment.value;u.clearRect(0,0,500,300),u.beginPath(),u.fillStyle=""+color,u.fillRect(0,0,500,300),u.fillStyle=""+text,u.rect(15,15,370,170),u.lineWidth=8,u.stroke(),u.font="bold "+l+"Noto Sans JP";for(var t=e.split("\n"),n=0,d=t.length;n<d;n++){var i=t[n],a=l;n&&(a+=l*c*n),u.fillText(i,r+0,m+a);var o=new Image;o.src=""+pic,u.drawImage(o,200,70,100,100)}$("#download").click(function(){var e=document.getElementById("prof"),t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download="profsend.png",t.click()})}d(),$("#name, #id, #age, #coment").on("keyup",d),$("#name, #id, #age, #coment").on("change",d),$("#colors").change(function(){color=$(this).val(),$(".button").css({"background-color":""+color}),d()}),$("#idset").click(function(){var e=document.getElementById("idtype").value;$("#idtext").html('<span>ID：</span><input type="text" name="formID" id="id" class="wrap" maxlength="'+e+'"></input>'),d(),$("#idleng").html("<p>現在のid桁数は"+e+"です。</p>")}),e.addEventListener("change",function(e){var t=e.target.files[0];if(t.type.match("image.*")){var n=new FileReader;n.onload=function(){pic=n.result,d()},n.readAsDataURL(t)}else alert("画像を選択してください")},!1)});